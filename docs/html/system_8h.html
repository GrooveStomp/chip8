<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aaron Oman&#39;s CHIP-8 Emulator: system.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aaron Oman&#39;s CHIP-8 Emulator
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">system.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="system_8h__dep__incl.png" border="0" usemap="#system_8hdep" alt=""/></div>
<map name="system_8hdep" id="system_8hdep">
<area shape="rect" id="node2" href="graphics_8c.html" title="graphics.c" alt="" coords="5,80,88,107"/>
<area shape="rect" id="node3" href="input_8c.html" title="input.c" alt="" coords="112,80,173,107"/>
<area shape="rect" id="node4" href="main_8c.html" title="main.c" alt="" coords="197,80,259,107"/>
<area shape="rect" id="node5" href="opcode_8c.html" title="opcode.c" alt="" coords="283,80,357,107"/>
</map>
</div>
</div>
<p><a href="system_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsystem.html">system</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac13b39d92263b3c765189651110c64f3"><td class="memItemLeft" align="right" valign="top"><a id="ac13b39d92263b3c765189651110c64f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ac13b39d92263b3c765189651110c64f3">SYSTEM_VERSION</a>&#160;&#160;&#160;&quot;0.1.0&quot;</td></tr>
<tr class="memdesc:ac13b39d92263b3c765189651110c64f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">include guard <br /></td></tr>
<tr class="separator:ac13b39d92263b3c765189651110c64f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af50881ff59a9d647fb73c5ec6d0934b8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structsystem.html">system</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#af50881ff59a9d647fb73c5ec6d0934b8">SystemInit</a> (int isDebugEnabled)</td></tr>
<tr class="memdesc:af50881ff59a9d647fb73c5ec6d0934b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes a new system object instance.  <a href="#af50881ff59a9d647fb73c5ec6d0934b8">More...</a><br /></td></tr>
<tr class="separator:af50881ff59a9d647fb73c5ec6d0934b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52719b683c5e2eff39e7df9c01872faa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a52719b683c5e2eff39e7df9c01872faa">SystemDeinit</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a52719b683c5e2eff39e7df9c01872faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initializes and frees memory for the given system object.  <a href="#a52719b683c5e2eff39e7df9c01872faa">More...</a><br /></td></tr>
<tr class="separator:a52719b683c5e2eff39e7df9c01872faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9acae4a2df72661389135982a324452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ad9acae4a2df72661389135982a324452">SystemIncrementPC</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:ad9acae4a2df72661389135982a324452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the system PC to point to the next instruction.  <a href="#ad9acae4a2df72661389135982a324452">More...</a><br /></td></tr>
<tr class="separator:ad9acae4a2df72661389135982a324452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75fe33d712849765814d18c3fce54ac"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ae75fe33d712849765814d18c3fce54ac">SystemFontSprite</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, unsigned int index)</td></tr>
<tr class="memdesc:ae75fe33d712849765814d18c3fce54ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the CHIP-8 memory address of the desired font sprite.  <a href="#ae75fe33d712849765814d18c3fce54ac">More...</a><br /></td></tr>
<tr class="separator:ae75fe33d712849765814d18c3fce54ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4c217c70f4b9ba534159c73679b307"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a6e4c217c70f4b9ba534159c73679b307">SystemLoadProgram</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, unsigned char *rom, unsigned int size)</td></tr>
<tr class="memdesc:a6e4c217c70f4b9ba534159c73679b307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies ROM into the CHIP-8's memory.  <a href="#a6e4c217c70f4b9ba534159c73679b307">More...</a><br /></td></tr>
<tr class="separator:a6e4c217c70f4b9ba534159c73679b307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa558418465b3d50d58b59ab42117602"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#aaa558418465b3d50d58b59ab42117602">SystemPushStack</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:aaa558418465b3d50d58b59ab42117602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets stack[sp] to pc and increments sp.  <a href="#aaa558418465b3d50d58b59ab42117602">More...</a><br /></td></tr>
<tr class="separator:aaa558418465b3d50d58b59ab42117602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5b0b79c6949585268a718b64983234"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#acd5b0b79c6949585268a718b64983234">SystemPopStack</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:acd5b0b79c6949585268a718b64983234"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets pc to stack[sp] and decrements sp.  <a href="#acd5b0b79c6949585268a718b64983234">More...</a><br /></td></tr>
<tr class="separator:acd5b0b79c6949585268a718b64983234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c0ed87598fcc470bff4f2245d705c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ad3c0ed87598fcc470bff4f2245d705c0">SystemGfxLock</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:ad3c0ed87598fcc470bff4f2245d705c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically locks the CHIP-8's graphics memory.  <a href="#ad3c0ed87598fcc470bff4f2245d705c0">More...</a><br /></td></tr>
<tr class="separator:ad3c0ed87598fcc470bff4f2245d705c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36e5e5a6a5f63b29651db0f0cb50349"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#aa36e5e5a6a5f63b29651db0f0cb50349">SystemGfxUnlock</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:aa36e5e5a6a5f63b29651db0f0cb50349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically unlocks the CHIP-8's graphics memory.  <a href="#aa36e5e5a6a5f63b29651db0f0cb50349">More...</a><br /></td></tr>
<tr class="separator:aa36e5e5a6a5f63b29651db0f0cb50349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d05a61bf50c40d523d233ea62156c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a93d05a61bf50c40d523d233ea62156c3">SystemClearScreen</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a93d05a61bf50c40d523d233ea62156c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">resets CHIP-8's video memory to zeroes  <a href="#a93d05a61bf50c40d523d233ea62156c3">More...</a><br /></td></tr>
<tr class="separator:a93d05a61bf50c40d523d233ea62156c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d2ce16b39dc58b934b814ca0279ffd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a9d2ce16b39dc58b934b814ca0279ffd3">SystemDrawSprite</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, unsigned int x, unsigned int y, unsigned int height)</td></tr>
<tr class="memdesc:a9d2ce16b39dc58b934b814ca0279ffd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws a sprite in video memory.  <a href="#a9d2ce16b39dc58b934b814ca0279ffd3">More...</a><br /></td></tr>
<tr class="separator:a9d2ce16b39dc58b934b814ca0279ffd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6908b06ec010236620ee9738ec362a08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a6908b06ec010236620ee9738ec362a08">SystemWFKSet</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, unsigned char reg)</td></tr>
<tr class="memdesc:a6908b06ec010236620ee9738ec362a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the system to wait for a keypress.  <a href="#a6908b06ec010236620ee9738ec362a08">More...</a><br /></td></tr>
<tr class="separator:a6908b06ec010236620ee9738ec362a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b467f7966c5ce1c312c8544fac772f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a29b467f7966c5ce1c312c8544fac772f">SystemWFKWaiting</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a29b467f7966c5ce1c312c8544fac772f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the system waiting for a keypress?  <a href="#a29b467f7966c5ce1c312c8544fac772f">More...</a><br /></td></tr>
<tr class="separator:a29b467f7966c5ce1c312c8544fac772f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4bf25a3c4d96045d5e5aa299b0de1fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa">SystemWFKOccurred</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, unsigned char key)</td></tr>
<tr class="memdesc:ac4bf25a3c4d96045d5e5aa299b0de1fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the system that a keypress occured, so stop waiting.  <a href="#ac4bf25a3c4d96045d5e5aa299b0de1fa">More...</a><br /></td></tr>
<tr class="separator:ac4bf25a3c4d96045d5e5aa299b0de1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7753bf13e77e56b261214279f30e86"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a5c7753bf13e77e56b261214279f30e86">SystemWFKChanged</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a5c7753bf13e77e56b261214279f30e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has the system just transitioned out of a WFK state?  <a href="#a5c7753bf13e77e56b261214279f30e86">More...</a><br /></td></tr>
<tr class="separator:a5c7753bf13e77e56b261214279f30e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38200bcf77d8fae2a9382b9eae342c10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a38200bcf77d8fae2a9382b9eae342c10">SystemWFKStop</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a38200bcf77d8fae2a9382b9eae342c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the system to stop waiting for a keypress.  <a href="#a38200bcf77d8fae2a9382b9eae342c10">More...</a><br /></td></tr>
<tr class="separator:a38200bcf77d8fae2a9382b9eae342c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fea7b4557e19469debca19fd003e36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ac8fea7b4557e19469debca19fd003e36">SystemDecrementTimers</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:ac8fea7b4557e19469debca19fd003e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements both the sound and delay timers.  <a href="#ac8fea7b4557e19469debca19fd003e36">More...</a><br /></td></tr>
<tr class="separator:ac8fea7b4557e19469debca19fd003e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2b56d51183e8eff08b859625461864"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a0b2b56d51183e8eff08b859625461864">SystemDelayTimer</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a0b2b56d51183e8eff08b859625461864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the delay timer.  <a href="#a0b2b56d51183e8eff08b859625461864">More...</a><br /></td></tr>
<tr class="separator:a0b2b56d51183e8eff08b859625461864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac597e4b5a15e4f29b2b756643bb3d256"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ac597e4b5a15e4f29b2b756643bb3d256">SystemSoundTimer</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:ac597e4b5a15e4f29b2b756643bb3d256"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the sound timer.  <a href="#ac597e4b5a15e4f29b2b756643bb3d256">More...</a><br /></td></tr>
<tr class="separator:ac597e4b5a15e4f29b2b756643bb3d256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972656c4c54821cdcbd36104f09edb38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a972656c4c54821cdcbd36104f09edb38">SystemSetTimers</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, int delayTimer, int soundTimer)</td></tr>
<tr class="memdesc:a972656c4c54821cdcbd36104f09edb38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of the sound and delay timers.  <a href="#a972656c4c54821cdcbd36104f09edb38">More...</a><br /></td></tr>
<tr class="separator:a972656c4c54821cdcbd36104f09edb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c800bbb9a8874ff5131f0b775ed4a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a98c800bbb9a8874ff5131f0b775ed4a6">SystemSoundTriggered</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a98c800bbb9a8874ff5131f0b775ed4a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has the sound timer reached zero after being set?  <a href="#a98c800bbb9a8874ff5131f0b775ed4a6">More...</a><br /></td></tr>
<tr class="separator:a98c800bbb9a8874ff5131f0b775ed4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ef1f06ad6b5fd9c5ec763676b8a8ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#ac9ef1f06ad6b5fd9c5ec763676b8a8ba">SystemSoundSetTrigger</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, int triggeredStatus)</td></tr>
<tr class="memdesc:ac9ef1f06ad6b5fd9c5ec763676b8a8ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the system that sound playback should begin.  <a href="#ac9ef1f06ad6b5fd9c5ec763676b8a8ba">More...</a><br /></td></tr>
<tr class="separator:ac9ef1f06ad6b5fd9c5ec763676b8a8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe7dc237f9f75bb13577d3078f3cd0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#abfe7dc237f9f75bb13577d3078f3cd0d">SystemShouldQuit</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:abfe7dc237f9f75bb13577d3078f3cd0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the system is in a "Ready to Shutdown" state.  <a href="#abfe7dc237f9f75bb13577d3078f3cd0d">More...</a><br /></td></tr>
<tr class="separator:abfe7dc237f9f75bb13577d3078f3cd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0028b0bb0d51f4d97efcfa43a43405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a4a0028b0bb0d51f4d97efcfa43a43405">SystemSignalQuit</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:a4a0028b0bb0d51f4d97efcfa43a43405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the system that shutdown should begin.  <a href="#a4a0028b0bb0d51f4d97efcfa43a43405">More...</a><br /></td></tr>
<tr class="separator:a4a0028b0bb0d51f4d97efcfa43a43405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc8ada92e4b1a34bc242186dfa17b54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#accc8ada92e4b1a34bc242186dfa17b54">SystemDebugIsEnabled</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>)</td></tr>
<tr class="memdesc:accc8ada92e4b1a34bc242186dfa17b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has the embedded graphical debugger been enabled?  <a href="#accc8ada92e4b1a34bc242186dfa17b54">More...</a><br /></td></tr>
<tr class="separator:accc8ada92e4b1a34bc242186dfa17b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef632e4571a2fb67376afe84784472d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system_8h.html#a9ef632e4571a2fb67376afe84784472d">SystemDebugSetEnabled</a> (struct <a class="el" href="structsystem.html">system</a> *<a class="el" href="structsystem.html">system</a>, int onOrOff)</td></tr>
<tr class="memdesc:a9ef632e4571a2fb67376afe84784472d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the system to enable or disable the embedded graphical debugger.  <a href="#a9ef632e4571a2fb67376afe84784472d">More...</a><br /></td></tr>
<tr class="separator:a9ef632e4571a2fb67376afe84784472d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05eeb8e58c02dd4836402c0b52ef93c"><td class="memItemLeft" align="right" valign="top"><a id="ae05eeb8e58c02dd4836402c0b52ef93c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>SystemDebugShouldFetchAndDecode</b> (struct <a class="el" href="structsystem.html">system</a> *s)</td></tr>
<tr class="separator:ae05eeb8e58c02dd4836402c0b52ef93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0284ac841a72e5a7b79149c0b8d93f7"><td class="memItemLeft" align="right" valign="top"><a id="ac0284ac841a72e5a7b79149c0b8d93f7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>SystemDebugShouldExecute</b> (struct <a class="el" href="structsystem.html">system</a> *s)</td></tr>
<tr class="separator:ac0284ac841a72e5a7b79149c0b8d93f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b2968c3438a3c60f634c0eae7cecdf"><td class="memItemLeft" align="right" valign="top"><a id="a42b2968c3438a3c60f634c0eae7cecdf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SystemDebugSetFetchAndDecode</b> (struct <a class="el" href="structsystem.html">system</a> *s, int onOrOff)</td></tr>
<tr class="separator:a42b2968c3438a3c60f634c0eae7cecdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50db78dc247a28ab1e8ffe8112200e4"><td class="memItemLeft" align="right" valign="top"><a id="ac50db78dc247a28ab1e8ffe8112200e4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SystemDebugSetExecute</b> (struct <a class="el" href="structsystem.html">system</a> *s, int onOrOff)</td></tr>
<tr class="separator:ac50db78dc247a28ab1e8ffe8112200e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the core system emulation package.</p>
<p>Generally speaking, the emulation occurs on the main thread with other subsystems operating in separate threads. Threadsafe synchronization primitives are used in system methods to allow threadsafe data access and manipulation.</p>
<p>There are two small logical subsystems of this package to handle tricky state management:</p><ul>
<li>WFK (aka Wait For Key)</li>
<li>Debug</li>
</ul>
<p>These logical subsystems are interesting because they break the normal opcode:fetch -&gt; opcode:decode -&gt; opcode:execute flow of the emulation.</p>
<p>They should be thought of as logical subsystems and their methods are grouped syntactically together:</p><ul>
<li>WFK methods are all prefixed with: SystemWFK</li>
<li>Debug methods are all prefixed with: SystemDebug </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a93d05a61bf50c40d523d233ea62156c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d05a61bf50c40d523d233ea62156c3">&#9670;&nbsp;</a></span>SystemClearScreen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemClearScreen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resets CHIP-8's video memory to zeroes </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accc8ada92e4b1a34bc242186dfa17b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc8ada92e4b1a34bc242186dfa17b54">&#9670;&nbsp;</a></span>SystemDebugIsEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemDebugIsEnabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has the embedded graphical debugger been enabled? </p>
<p>Threadsafe. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if debugging is <em>NOT</em> enabled, otherwise non-zero </dd></dl>

</div>
</div>
<a id="a9ef632e4571a2fb67376afe84784472d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef632e4571a2fb67376afe84784472d">&#9670;&nbsp;</a></span>SystemDebugSetEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemDebugSetEnabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>onOrOff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the system to enable or disable the embedded graphical debugger. </p>
<p>Threadsafe. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be udpated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onOrOff</td><td>0 to disable debugger, or non-zero to enable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8fea7b4557e19469debca19fd003e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fea7b4557e19469debca19fd003e36">&#9670;&nbsp;</a></span>SystemDecrementTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemDecrementTimers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements both the sound and delay timers. </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52719b683c5e2eff39e7df9c01872faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52719b683c5e2eff39e7df9c01872faa">&#9670;&nbsp;</a></span>SystemDeinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemDeinit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-initializes and frees memory for the given system object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>The initialized system object to be cleaned and reclaimed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b2b56d51183e8eff08b859625461864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2b56d51183e8eff08b859625461864">&#9670;&nbsp;</a></span>SystemDelayTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemDelayTimer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of the delay timer. </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of delay timer </dd></dl>

</div>
</div>
<a id="a9d2ce16b39dc58b934b814ca0279ffd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d2ce16b39dc58b934b814ca0279ffd3">&#9670;&nbsp;</a></span>SystemDrawSprite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemDrawSprite </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws a sprite in video memory. </p>
<p>Threadsafe.</p>
<p>Display: Draws a sprite at coordinate (VX, VY) that has a width of 8 pixels and a height of N pixels. Each row of 8 pixels is read as bit-coded starting from memory location I; I value doesn’t change after the execution of this instruction. As described above, VF is set to 1 if any screen pixels are flipped from set to unset when the sprite is drawn, and to 0 if that doesn’t happen. I'm assuming (VX, VY) is the lower-left corner of the sprint, not the center.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>Which register holds the x-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>Which register holds the y-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>Height in pixels of the sprite to be drawn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae75fe33d712849765814d18c3fce54ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae75fe33d712849765814d18c3fce54ac">&#9670;&nbsp;</a></span>SystemFontSprite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short SystemFontSprite </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the CHIP-8 memory address of the desired font sprite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">system</td><td>system state to be read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Which font sprite to get (0-F) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address in CHIP-8 memory for the sprite </dd></dl>

</div>
</div>
<a id="ad3c0ed87598fcc470bff4f2245d705c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c0ed87598fcc470bff4f2245d705c0">&#9670;&nbsp;</a></span>SystemGfxLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemGfxLock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically locks the CHIP-8's graphics memory. </p>
<p>Threadsafe.</p>
<p>Lock graphics memory so a separate thread can use it for rendering.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the lock is held otherwise non-zero </dd></dl>

</div>
</div>
<a id="aa36e5e5a6a5f63b29651db0f0cb50349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36e5e5a6a5f63b29651db0f0cb50349">&#9670;&nbsp;</a></span>SystemGfxUnlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemGfxUnlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically unlocks the CHIP-8's graphics memory. </p>
<p>Threadsafe.</p>
<p>We need to lock graphics memory for rendering via a separate thread, this routine just unlocks it after that has been done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if lock has been released otherwise non-zero </dd></dl>

</div>
</div>
<a id="ad9acae4a2df72661389135982a324452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9acae4a2df72661389135982a324452">&#9670;&nbsp;</a></span>SystemIncrementPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemIncrementPC </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the system PC to point to the next instruction. </p>
<p>The CHIP-8 uses 16-bit instructions, but stores that data big-endian. As a result, we read instructions as two 8-bit bytes in reverse order and increment the PC by two bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af50881ff59a9d647fb73c5ec6d0934b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af50881ff59a9d647fb73c5ec6d0934b8">&#9670;&nbsp;</a></span>SystemInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsystem.html">system</a>* SystemInit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>isDebugEnabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes a new system object instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">isDebugEnabled</td><td>whether to run with the integrated debugging UI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialized system object </dd></dl>

</div>
</div>
<a id="a6e4c217c70f4b9ba534159c73679b307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4c217c70f4b9ba534159c73679b307">&#9670;&nbsp;</a></span>SystemLoadProgram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemLoadProgram </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>rom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies ROM into the CHIP-8's memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state memory to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rom</td><td>program ROM to be loaded into CHIP-8 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of program ROM to be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero if program could be loaded, otherwise 0 </dd></dl>

</div>
</div>
<a id="acd5b0b79c6949585268a718b64983234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5b0b79c6949585268a718b64983234">&#9670;&nbsp;</a></span>SystemPopStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemPopStack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets pc to stack[sp] and decrements sp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa558418465b3d50d58b59ab42117602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa558418465b3d50d58b59ab42117602">&#9670;&nbsp;</a></span>SystemPushStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemPushStack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets stack[sp] to pc and increments sp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a972656c4c54821cdcbd36104f09edb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972656c4c54821cdcbd36104f09edb38">&#9670;&nbsp;</a></span>SystemSetTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemSetTimers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delayTimer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>soundTimer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the value of the sound and delay timers. </p>
<p>Threadsafe.</p>
<p>It's not always desirable to set both timers at once, so use -1 <em>NOT</em> to set a timer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delayTimer</td><td>value to set delayTimer to, -1 to ignore </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">soundTimer</td><td>value to set soundTimer to, -1 to ignore </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abfe7dc237f9f75bb13577d3078f3cd0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe7dc237f9f75bb13577d3078f3cd0d">&#9670;&nbsp;</a></span>SystemShouldQuit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemShouldQuit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the system is in a "Ready to Shutdown" state. </p>
<p>Threadsafe. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if ready to quit, otherwise 0 </dd></dl>

</div>
</div>
<a id="a4a0028b0bb0d51f4d97efcfa43a43405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0028b0bb0d51f4d97efcfa43a43405">&#9670;&nbsp;</a></span>SystemSignalQuit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemSignalQuit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the system that shutdown should begin. </p>
<p>Threadsafe. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac9ef1f06ad6b5fd9c5ec763676b8a8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ef1f06ad6b5fd9c5ec763676b8a8ba">&#9670;&nbsp;</a></span>SystemSoundSetTrigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemSoundSetTrigger </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>triggeredStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the system that sound playback should begin. </p>
<p>Threadsafe. Called when the sound timer reaches zero after being set. Called by <a class="el" href="soundthread_8c.html#a363c185def0a342cd84596296a889b38" title="Thread for sound playback. ">SoundThread()</a> when sound playback begins, disabling the trigger.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">triggeredStatus</td><td>0 if not triggered, otherwise non-zero </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="soundthread_8c.html">soundthread.c</a> </dd></dl>

</div>
</div>
<a id="ac597e4b5a15e4f29b2b756643bb3d256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac597e4b5a15e4f29b2b756643bb3d256">&#9670;&nbsp;</a></span>SystemSoundTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemSoundTimer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of the sound timer. </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of sound timer </dd></dl>

</div>
</div>
<a id="a98c800bbb9a8874ff5131f0b775ed4a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c800bbb9a8874ff5131f0b775ed4a6">&#9670;&nbsp;</a></span>SystemSoundTriggered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemSoundTriggered </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has the sound timer reached zero after being set? </p>
<p>Threadsafe. Called by <a class="el" href="soundthread_8c.html#a363c185def0a342cd84596296a889b38" title="Thread for sound playback. ">SoundThread()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if sound has not been triggered, otherwise non-zero </dd></dl>

</div>
</div>
<a id="a5c7753bf13e77e56b261214279f30e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7753bf13e77e56b261214279f30e86">&#9670;&nbsp;</a></span>SystemWFKChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemWFKChanged </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has the system just transitioned out of a WFK state? </p>
<p>Threadsafe.</p>
<p>We can signal to the system that a keypress occurred via <a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa" title="Tell the system that a keypress occured, so stop waiting. ">SystemWFKOccurred()</a>, but we still want to query afterward whether we were previously in a WFK state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the system has not transitioned, otherwise non-zero</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="system_8h.html#a6908b06ec010236620ee9738ec362a08" title="Tell the system to wait for a keypress. ">SystemWFKSet()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a29b467f7966c5ce1c312c8544fac772f" title="Is the system waiting for a keypress? ">SystemWFKWaiting()</a> </dd>
<dd>
<a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa" title="Tell the system that a keypress occured, so stop waiting. ">SystemWFKOccurred()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a38200bcf77d8fae2a9382b9eae342c10" title="Tell the system to stop waiting for a keypress. ">SystemWFKStop()</a> </dd></dl>

</div>
</div>
<a id="ac4bf25a3c4d96045d5e5aa299b0de1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4bf25a3c4d96045d5e5aa299b0de1fa">&#9670;&nbsp;</a></span>SystemWFKOccurred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemWFKOccurred </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the system that a keypress occured, so stop waiting. </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>which of the keys [0..F] was pressed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="system_8h.html#a6908b06ec010236620ee9738ec362a08" title="Tell the system to wait for a keypress. ">SystemWFKSet()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a29b467f7966c5ce1c312c8544fac772f" title="Is the system waiting for a keypress? ">SystemWFKWaiting()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a5c7753bf13e77e56b261214279f30e86" title="Has the system just transitioned out of a WFK state? ">SystemWFKChanged()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a38200bcf77d8fae2a9382b9eae342c10" title="Tell the system to stop waiting for a keypress. ">SystemWFKStop()</a> </dd></dl>

</div>
</div>
<a id="a6908b06ec010236620ee9738ec362a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6908b06ec010236620ee9738ec362a08">&#9670;&nbsp;</a></span>SystemWFKSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemWFKSet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the system to wait for a keypress. </p>
<p>Threadsafe.</p>
<p>When a keypress occurs, it will be one of the 16 hex keys used by the CHIP-8, indexed [0..F] Store that index in the specified register when it occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>which register to store the pressed hex key index in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="system_8h.html#a29b467f7966c5ce1c312c8544fac772f" title="Is the system waiting for a keypress? ">SystemWFKWaiting()</a> </dd>
<dd>
<a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa" title="Tell the system that a keypress occured, so stop waiting. ">SystemWFKOccurred()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a5c7753bf13e77e56b261214279f30e86" title="Has the system just transitioned out of a WFK state? ">SystemWFKChanged()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a38200bcf77d8fae2a9382b9eae342c10" title="Tell the system to stop waiting for a keypress. ">SystemWFKStop()</a> </dd></dl>

</div>
</div>
<a id="a38200bcf77d8fae2a9382b9eae342c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38200bcf77d8fae2a9382b9eae342c10">&#9670;&nbsp;</a></span>SystemWFKStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemWFKStop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the system to stop waiting for a keypress. </p>
<p>Threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="system_8h.html#a6908b06ec010236620ee9738ec362a08" title="Tell the system to wait for a keypress. ">SystemWFKSet()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a29b467f7966c5ce1c312c8544fac772f" title="Is the system waiting for a keypress? ">SystemWFKWaiting()</a> </dd>
<dd>
<a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa" title="Tell the system that a keypress occured, so stop waiting. ">SystemWFKOccurred()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a5c7753bf13e77e56b261214279f30e86" title="Has the system just transitioned out of a WFK state? ">SystemWFKChanged()</a> </dd></dl>

</div>
</div>
<a id="a29b467f7966c5ce1c312c8544fac772f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b467f7966c5ce1c312c8544fac772f">&#9670;&nbsp;</a></span>SystemWFKWaiting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemWFKWaiting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsystem.html">system</a> *&#160;</td>
          <td class="paramname"><em>system</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the system waiting for a keypress? </p>
<p>Threadsafe.</p>
<p>When the system is waiting for a keypress, it does not fetch, decode and execute instructions normally. However, timers do continue to decrement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">system</td><td>system state to be updated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the system is waiting for a keypress, otherwise non-zero</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="system_8h.html#a6908b06ec010236620ee9738ec362a08" title="Tell the system to wait for a keypress. ">SystemWFKSet()</a> </dd>
<dd>
<a class="el" href="system_8h.html#ac4bf25a3c4d96045d5e5aa299b0de1fa" title="Tell the system that a keypress occured, so stop waiting. ">SystemWFKOccurred()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a5c7753bf13e77e56b261214279f30e86" title="Has the system just transitioned out of a WFK state? ">SystemWFKChanged()</a> </dd>
<dd>
<a class="el" href="system_8h.html#a38200bcf77d8fae2a9382b9eae342c10" title="Tell the system to stop waiting for a keypress. ">SystemWFKStop()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
